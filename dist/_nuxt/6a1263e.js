(window.webpackJsonp=window.webpackJsonp||[]).push([[10,5,6],{380:function(t,e,n){var content=n(388);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("ecd89008",content,!0,{sourceMap:!1})},383:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var o=n(19),r=n(32),h=(n(53),n(384)),d=n(386),c=function(){function t(e){Object(o.a)(this,t),this.state={},this.addbox=[],this.lastTime="",this.fixedTimeStep=1/60,this.maxSubSteps=10,this.CONSTANT={initPoint:{x:0,y:0,z:0},initWeight:5,initMass:5,positionY:20,margin:20,rotate:{x:0,y:0,z:0},ground_size:100,axis_rotate:0,limit:2,width:100,height:100,color1:"#cccccc"},this.world=new d.World,this.scene=new h.k,this.camera=new h.i(80,window.innerWidth/window.innerHeight),this.renderer=new h.m({canvas:e.$canvas}),this.props=e,this.init()}return Object(r.a)(t,[{key:"init",value:function(){var t=this;this.world.gravity.set(0,-9.82,0),this.camera.position.set(0,0,100),this.generate();var e=new h.a(16777215,1);this.scene.add(e);var n=new h.c(16777215,1);this.scene.add(n),this.renderer.setSize(window.innerWidth,window.innerHeight),this.render(),requestAnimationFrame((function(){return t.animate(0)}))}},{key:"Ground",value:function(t){var body=new d.Body({mass:0});body.addShape(new d.Plane),body.quaternion.setFromAxisAngle(new d.Vec3(1,0,0),-Math.PI/2);var e=new h.j(t,t),n=new h.f({color:this.CONSTANT.color1,side:h.d}),o=new h.e(e,n);return o.rotation.x=-Math.PI/2,o.position.y=0,{body:body,mesh:o}}},{key:"Box",value:function(t){var e=t.point,n=t.weight,o=t.mass,body=new d.Body({mass:o,position:new d.Vec3(e.x,e.y,e.z),shape:new d.Box(new d.Vec3(n/2,n/2,n/2))}),r=new h.b(n,n,n),c=new h.h({color:11141120,roughness:0}),w=new h.e(r,c);return w.position.set(e.x,e.y,e.z),{body:body,mesh:w}}},{key:"generate",value:function(){var t=this.Ground(this.CONSTANT.ground_size);this.scene.add(t.mesh),this.world.addBody(t.body);var e={x:0,y:this.CONSTANT.positionY,z:0},n=this.state.box=this.Box({point:e,weight:this.CONSTANT.initWeight,mass:this.CONSTANT.initMass});this.scene.add(n.mesh),this.world.addBody(n.body)}},{key:"animate",value:function(time){var t=this,e=this.state.box;if(void 0!==this.lastTime){var dt=(time-this.lastTime)/1e3;this.world.step(this.fixedTimeStep,dt,this.maxSubSteps)}var n=e.mesh,body=e.body;n.position.copy(body.position),n.quaternion.copy(body.quaternion),this.addbox.map((function(t){return t.mesh.position.copy(t.body.position),t.mesh.quaternion.copy(t.body.quaternion),t})),this.lastTime=time,this.render(),requestAnimationFrame((function(){return t.animate(0)}))}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"makeBox",value:function(t){var e=new h.l;e.x=t.x/window.innerWidth*2-1,e.y=-t.y/window.innerHeight*2+1,e.y=e.y<0?.1:e.y;var n={x:e.x*this.CONSTANT.ground_size,y:e.y*this.CONSTANT.ground_size,z:0},o=this.Box({point:n,weight:this.CONSTANT.initWeight,mass:this.CONSTANT.initMass});this.addbox.push(o),this.scene.add(o.mesh),this.world.addBody(o.body)}},{key:"getRandomInt",value:function(t){return Math.floor(Math.random()*t)}}]),t}()},387:function(t,e,n){"use strict";n(380)},388:function(t,e,n){var o=n(34)(!1);o.push([t.i,".artwork{position:fixed;top:0;left:0;width:100%;height:100%;background:#eaf2f5}",""]),t.exports=o},398:function(t,e,n){"use strict";n.r(e);var o=n(383),r={name:"artwork",data:function(){return{artworkGL:0,boxStatus:{x:0,y:0}}},mounted:function(){this.artworkGL||(this.artworkGL=new o.default({$canvas:this.$refs.canvas}))},methods:{makeBox:function(t){this.artworkGL&&(this.boxStatus.x=t.offsetX,this.boxStatus.y=t.offsetY,this.artworkGL.makeBox({x:this.boxStatus.x,y:this.boxStatus.y}))}}},h=(n(387),n(48)),component=Object(h.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"artwork"},[n("canvas",{ref:"canvas",staticClass:"artwork__canvas",on:{click:t.makeBox}})])}),[],!1,null,null,null);e.default=component.exports},402:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(398),h=o.a.extend({data:function(){return{}},components:{Artwork:r.default},methods:{}}),d=n(48),component=Object(d.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Artwork")],1)}),[],!1,null,null,null);e.default=component.exports}}]);